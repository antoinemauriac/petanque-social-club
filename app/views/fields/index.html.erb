
<div data-controller="terrain">
      <ul class="nav nav-pills nav-fill">
        <li class="nav-item active" data-action="click->terrain#showcartes">
          <a class="nav-link" data-terrain-target="carte" href="#">MAP</a>
        </li>
        <li class="nav-item" data-action="click->terrain#showfields">
          <a class="nav-link" data-terrain-target="field" href="#">FIELDS</a>
        </li>
      </ul>

      <div class="card-product d-none" data-terrain-target="fields">
            <% @fields.each do | field | %>
                <div class="main-card">
                  <div class="main-card-img">
                    <% if field.photos.attached? %>
                        <%= cl_image_tag field.photos.first.key%>
                    <% else %>
                        <%= image_tag "bobby.png"%>
                    <% end %>
                  </div>
                    <div class="card-product-infos">
                      <h2><%= "#{field.name}" %></h2>
                      <p><%= "#{field.address}" %></p>
                    </div>
                </div>
            <% end %>
      </div>


      <div style="height: 100vh;"
        data-controller="map"
        data-terrain-target="cartes"
        data-map-markers-value="<%= @markers.to_json %>"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
        class= "map-field"
        id= "map">
      </div>

</div>
